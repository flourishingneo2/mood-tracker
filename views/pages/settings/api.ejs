<!-- indev; hardcoded data for testing -->

<h3>Authorized Applications</h3>
<ul class="authorized_apps">
  <li data-app-id="69420">
    <div>
      <p>Mood Tracker Discord Bot</p>
      <button class="danger app_deauthorize_btn">Deauthorize</button>
    </div>
    <ul class="permissions">
      <li>Read your username and settings</li>
      <li>Read your current mood</li>
      <li>Read the history of your past moods</li>
    </ul>
  </li>
  <li data-app-id="1337">
    <div>
      <p>amogus</p>
      <button class="danger app_deauthorize_btn">Deauthorize</button>
    </div>
    <ul class="permissions">
      <li>Read your current mood</li>
      <li>Update your mood</li>
    </ul>
  </li>
</ul>

<h3>My Applications</h3>
<ul class="apps">
  <li data-app-id="69420">
    <p class="app_name">Test App <span class="app_id">(69420)</span></p>
    <div class="expand column_container">
      <button>Copy ID</button>
      <button class="app_copy_secret_btn">Copy Secret</button>
      <button class="app_delete_btn danger">Delete</button>
    </div>
  </li>
  <li data-app-id="1337">
    <p class="app_name">amogus <span class="app_id">(1337)</span></p>
    <div class="expand column_container">
      <button>Copy ID</button>
      <button class="app_copy_secret_btn">Copy Secret</button>
      <button class="app_delete_btn danger">Delete</button>
    </div>
  </li>
  <button class="app_create_btn">Create</button>
</ul>

<script>
  document.addEventListener("click", (e) => {
    if (e.target.classList.contains("app_name")) {
      const selected = document.querySelector(".apps li.active");
      if (selected)
        selected.classList.remove("active");      
      if (selected != e.target.parentElement)
        e.target.parentElement.classList.add("active");
    }
  })
</script>